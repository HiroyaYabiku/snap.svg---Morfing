<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>SVGモーフィングアニメーション</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css" type="text/css" media="all">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
  <script src="js/jquery.scrollify.min.js"></script>
  <script src="js/snap.svg.js"></script>
  <style>
    .pagenation{
      padding: 20px 30px;
      position: fixed;
      right: 0;
      top: 50%;
    }
    .pagenation li{
      display: block;
      width: 12px;
      height: 12px;
      border: 1px solid #000;
      border-radius: 50%;
      list-style-type: none;
      margin-bottom: 20px;
      cursor: pointer;
    }
    .pagenation li.active{
      background: #000;
    }
  </style>
  <script>


  $(document).ready(function(){

    var p1 = 'M377.75,417.5c0.664,4,1.828,9.25,3.5,15.75c1.664,6.5,4.078,13.5,7.25,21c3.164,7.5,7.164,15.172,12,23c4.828,7.836,10.75,15.086,17.75,21.75c7.664,7.672,15.078,13.5,22.25,17.5c7.164,4,14,6.922,20.5,8.75c6.5,1.836,12.664,2.836,18.5,3c5.828,0.172,11.25,0.25,16.25,0.25c17.664,0,32.164-2.75,43.5-8.25C550.578,514.75,559.5,508,566,500s11.078-16.414,13.75-25.25c2.664-8.828,4-16.578,4-23.25c0-12.328-2.922-22.5-8.75-30.5c-5.836-8-13.586-14.664-23.25-20c-9.672-5.328-20.672-9.828-33-13.5c-12.336-3.664-25-7.414-38-11.25c-13-3.828-25.672-8.328-38-13.5c-12.336-5.164-23.336-11.828-33-20c-9.672-8.164-17.422-18.25-23.25-30.25c-5.836-12-8.75-27-8.75-45c0-13.328,3-26.164,9-38.5c6-12.328,14.328-23.25,25-32.75c10.664-9.5,23.414-17.164,38.25-23c14.828-5.828,30.914-8.75,48.25-8.75c11,0,20.664,1,29,3c8.328,2,15.664,4.086,22,6.25c6.328,2.172,11.914,4.25,16.75,6.25c4.828,2,9.25,3,13.25,3c4.664,0,7.75-0.75,9.25-2.25s3.078-4.25,4.75-8.25h8v95h-6.5c-4-11.664-8.25-23.164-12.75-34.5c-4.5-11.328-10.25-21.578-17.25-30.75c-7-9.164-15.836-16.578-26.5-22.25c-10.672-5.664-24.172-8.5-40.5-8.5c-13.336,0-25.086,1.836-35.25,5.5c-10.172,3.672-18.75,8.5-25.75,14.5s-12.336,12.672-16,20c-3.672,7.336-5.5,14.836-5.5,22.5c0,11.672,3.078,21.336,9.25,29c6.164,7.672,14.25,14.25,24.25,19.75S470.164,293,483,297c12.828,4,26,8.172,39.5,12.5c13.5,4.336,26.664,9.086,39.5,14.25c12.828,5.172,24.25,11.75,34.25,19.75s18.078,17.672,24.25,29c6.164,11.336,9.25,25.336,9.25,42c0,16.336-3.336,31.836-10,46.5c-6.672,14.672-16.086,27.5-28.25,38.5c-12.172,11-26.672,19.75-43.5,26.25c-16.836,6.5-35.586,9.75-56.25,9.75c-10.336,0-20.586-1-30.75-3c-10.172-2-19.672-4.078-28.5-6.25c-8.836-2.164-16.672-4.25-23.5-6.25c-6.836-2-11.922-3-15.25-3c-4.672,0-8,0.75-10,2.25s-3.836,4.586-5.5,9.25h-8v-111H377.75z';

    var p2 = 'M477.75,165.25v7h-48l103.5,271l105.5-271h-45v-7h95.5v7h-43l-141,362.5h-14.5l-138-362.5h-42v-7H477.75z';

    var p3 ='M608.5,281c-8.672-32.664-21.672-58.078-39-76.25C552.164,186.586,529,177.672,500,178c-23,0-41.5,4.422-55.5,13.25c-14,8.836-24.75,20.336-32.25,34.5c-7.5,14.172-12.422,30.336-14.75,48.5c-2.336,18.172-3.5,36.586-3.5,55.25V373c0,30.336,2,55.836,6,76.5c4,20.672,10.25,37.336,18.75,50c8.5,12.672,19.5,21.75,33,27.25S481.328,535,500,535c15.328,0,27.5-2.75,36.5-8.25s15.914-13,20.75-22.5c4.828-9.5,7.914-20.75,9.25-33.75c1.328-13,2-27.164,2-42.5v-19H517v-7h154.5v7H639v114.5h-9c-0.672-4-2.586-6.914-5.75-8.75c-3.172-1.828-6.75-2.75-10.75-2.75c-8,0-15.586,1.586-22.75,4.75c-7.172,3.172-14.922,6.586-23.25,10.25c-8.336,3.672-17.922,7.086-28.75,10.25c-10.836,3.164-23.922,4.75-39.25,4.75c-24.336,0-47.836-4.75-70.5-14.25c-22.672-9.5-42.586-22.5-59.75-39c-17.172-16.5-30.922-35.914-41.25-58.25c-10.336-22.328-15.5-46.5-15.5-72.5c0-28.328,5.75-54,17.25-77S356,238.336,374,222c18-16.328,38.078-28.914,60.25-37.75c22.164-8.828,43.914-13.25,65.25-13.25c10,0,19.664,1,29,3c9.328,2,18,4.086,26,6.25c8,2.172,15.164,4.25,21.5,6.25c6.328,2,11.664,3,16,3c4.664,0,8-0.75,10-2.25s3.828-4.25,5.5-8.25h8.5v102H608.5z';


    var snap = Snap('#snapsvg-demo2');
    var path = snap.path(p1).attr({fill: '#ffffff',"fill-opacity": 0});

    $.scrollify({
      section : "section",
      scrollSpeed: 400,
      before :function(i,box) {
        current = i
        $('.pagenation .active').removeClass('active');
        $('.pagenation').find('li').eq(i).addClass('active');

        $('.pagenation li').each(function(index) {
          if($(this).hasClass('active')) {
            var num = $(this).data('class').substr(-1,1) - 1;
            if(num == 0) {
              path = snap.select('path');
              path.animate({path: p1}, 330, mina.easeinout);
            } else if (num == 1) {
              path = snap.select('path');
              path.animate({path: p2}, 330, mina.easeinout);
            } else if (num == 2) {
              path = snap.select('path');
              path.animate({path: p3}, 330, mina.easeinout);
            }
          }
        });
      },
      afterRender:function(){
        var pagenation = '<ul class="pagenation">';
        $('section').each(function(i){
            pagenation += '<li data-class="nav' + (i + 1) + '"><a></a></li>';
        });
        pagenation += '</ul>';
        $('body').append(pagenation);
        $('.pagenation li').each(function(i){
            $(this).on('click',function(){
                $.scrollify.move(i);
            });
        });
        $('.pagenation li:first-child').addClass('active');
      },
    });
  });
  </script>
</head>
<body id="maskPage">
  <div id="fixed">
  <svg viewbox="0 0 1000 700" id="snapsvg-demo2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <clipPath id="svgPath">
        <path d="M377.75,417.5c0.664,4,1.828,9.25,3.5,15.75c1.664,6.5,4.078,13.5,7.25,21c3.164,7.5,7.164,15.172,12,23c4.828,7.836,10.75,15.086,17.75,21.75c7.664,7.672,15.078,13.5,22.25,17.5c7.164,4,14,6.922,20.5,8.75c6.5,1.836,12.664,2.836,18.5,3c5.828,0.172,11.25,0.25,16.25,0.25c17.664,0,32.164-2.75,43.5-8.25C550.578,514.75,559.5,508,566,500s11.078-16.414,13.75-25.25c2.664-8.828,4-16.578,4-23.25c0-12.328-2.922-22.5-8.75-30.5c-5.836-8-13.586-14.664-23.25-20c-9.672-5.328-20.672-9.828-33-13.5c-12.336-3.664-25-7.414-38-11.25c-13-3.828-25.672-8.328-38-13.5c-12.336-5.164-23.336-11.828-33-20c-9.672-8.164-17.422-18.25-23.25-30.25c-5.836-12-8.75-27-8.75-45c0-13.328,3-26.164,9-38.5c6-12.328,14.328-23.25,25-32.75c10.664-9.5,23.414-17.164,38.25-23c14.828-5.828,30.914-8.75,48.25-8.75c11,0,20.664,1,29,3c8.328,2,15.664,4.086,22,6.25c6.328,2.172,11.914,4.25,16.75,6.25c4.828,2,9.25,3,13.25,3c4.664,0,7.75-0.75,9.25-2.25s3.078-4.25,4.75-8.25h8v95h-6.5c-4-11.664-8.25-23.164-12.75-34.5c-4.5-11.328-10.25-21.578-17.25-30.75c-7-9.164-15.836-16.578-26.5-22.25c-10.672-5.664-24.172-8.5-40.5-8.5c-13.336,0-25.086,1.836-35.25,5.5c-10.172,3.672-18.75,8.5-25.75,14.5s-12.336,12.672-16,20c-3.672,7.336-5.5,14.836-5.5,22.5c0,11.672,3.078,21.336,9.25,29c6.164,7.672,14.25,14.25,24.25,19.75S470.164,293,483,297c12.828,4,26,8.172,39.5,12.5c13.5,4.336,26.664,9.086,39.5,14.25c12.828,5.172,24.25,11.75,34.25,19.75s18.078,17.672,24.25,29c6.164,11.336,9.25,25.336,9.25,42c0,16.336-3.336,31.836-10,46.5c-6.672,14.672-16.086,27.5-28.25,38.5c-12.172,11-26.672,19.75-43.5,26.25c-16.836,6.5-35.586,9.75-56.25,9.75c-10.336,0-20.586-1-30.75-3c-10.172-2-19.672-4.078-28.5-6.25c-8.836-2.164-16.672-4.25-23.5-6.25c-6.836-2-11.922-3-15.25-3c-4.672,0-8,0.75-10,2.25s-3.836,4.586-5.5,9.25h-8v-111H377.75z" />
    </clipPath>
    <image clip-path="url(#svgPath)" width="100%" height="100%" xlink:href="000.jpg" class="image"></image>
  </svg>
  <ul class="pager" id="js-pager"></ul>
  </div>
  <section id="sec1"></section>
  <section id="sec2"></section>
  <section id="sec3"></section>

</body>
</html>
